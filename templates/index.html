<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–π—è üñ§</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="app-container">
        <div id="chatsScreen" class="screen">
            <header class="header">
                <div class="logo">
                    <span class="logo-icon">üñ§</span>
                    <h1>–¢–µ–π—è</h1>
                </div>
                <button class="new-chat-btn" id="newChatBtn">+</button>
            </header>
            <main class="chats-list" id="chatsList"></main>
        </div>

        <div id="chatScreen" class="screen" style="display: none;">
            <header class="header">
                <button class="back-btn" id="backToChatsBtn">‚Üê</button>
                <div class="chat-title" id="chatTitle">–ù–æ–≤—ã–π –º–∏—Ä</div>
                <button class="settings-btn" id="settingsBtn">‚öôÔ∏è</button>
            </header>
            <main class="chat-container" id="chatContainer"></main>

            <!-- –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤–Ω–∏–∑ -->
            <button class="scroll-down-btn" id="scrollDownBtn" style="display: none;">üëá</button>

            <footer class="input-panel">
                <div class="input-wrapper">
                    <textarea id="messageInput" placeholder="–ù–∞–ø–∏—à–∏ –¥–µ–π—Å—Ç–≤–∏–µ –î–∂–µ—Å—Å..." rows="1" disabled></textarea>
                    <div class="button-group">
                        <button class="stop-btn" id="stopBtn" disabled>‚èπÔ∏è</button>
                        <button class="send-btn" id="sendBtn" disabled>üì§</button>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <div class="modal-overlay" id="newChatModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üñ§ –ù–æ–≤—ã–π –º–∏—Ä</h2>
                <button class="close-modal" id="closeNewChatModal">‚úï</button>
            </div>
            <div class="modal-body">
                <label for="newStoryRequest">–ó–∞–ø—Ä–æ—Å –Ω–∞ –∏—Å—Ç–æ—Ä–∏—é:</label>
                <textarea id="newStoryRequest" rows="8" placeholder="–û–ø–∏—à–∏ –º–∏—Ä, –≤–æ–∑—Ä–∞—Å—Ç –î–∂–µ—Å—Å, —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—Ü–µ–Ω—É..."></textarea>
                <button class="save-prompt-btn" id="createChatBtn">üöÄ –°–æ–∑–¥–∞—Ç—å –º–∏—Ä</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="settingsModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìú –ó–∞–ø—Ä–æ—Å —ç—Ç–æ–≥–æ –º–∏—Ä–∞</h2>
                <button class="close-modal" id="closeSettingsBtn">‚úï</button>
            </div>
            <div class="modal-body">
                <textarea id="storyRequestView" rows="8" readonly></textarea>
                <p style="color: #ff4d6d;">‚úèÔ∏è –ó–∞–ø—Ä–æ—Å –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å</p>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>